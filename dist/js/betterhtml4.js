var BetterHTML4=BetterHTML4||{};BetterHTML4.polyfill=function(e){var t={init:function(){"undefined"==typeof HTMLStyleElement.prototype.sheet&&(Object.defineProperty&&(Object.defineProperty(HTMLStyleElement.prototype,"sheet",{get:function(){return this.styleSheet},set:function(e){this.styleSheet=e}}),Object.defineProperty(CSSStyleSheet.prototype,"cssRules",{get:function(){return this.rules},set:function(e){this.rules=e}})),"undefined"==typeof CSSStyleSheet.prototype.insertRule&&(CSSStyleSheet.prototype.insertRule=function(e,t){var n=e.replace(new RegExp("{.+?}","g"),""),s=e.replace(n,"");return CSSStyleSheet.prototype.addRule.apply(this,[n,s,t])}),"undefined"==typeof CSSStyleSheet.prototype.deleteRule&&(CSSStyleSheet.prototype.deleteRule=function(e){CSSStyleSheet.prototype.removeRule.apply(this,[e])})),e.XDomainRequest&&(e.XMLHttpRequest=function(){var e=new ActiveXObject("Msxml2.XMLHTTP.6.0"),t={_ax:e,_xdr:null,readyState:0,responseBody:null,responseStream:null,responseText:"",responseXml:null,status:0,statusText:"",onreadystatechange:null};return t._onReadyStateChange=function(){var e=t;return function(){e.readyState=e._ax.readyState,e.readyState>3&&(e.responseBody=e._ax.responseBody,e.responseStream=e._ax.responseStream,e.responseText=e._ax.responseText,e.responseXml=e._ax.responseXml,e.status=e._ax.status,e.statusText=e._ax.statusText),e.onreadystatechange&&e.onreadystatechange()}}(),t.abort=function(){return(this._xdr|this._ax).abort()},t.getAllResponseHeaders=function(){return this._ax.getAllResponseHeaders()},t.getOption=function(e){return this._ax.getOption(e)},t.getResponseHeader=function(e){return this._ax.getResponseHeader(e)},t.open=function(e,n,s,r,a){s=s!==!1,this._ax.onReadyStateChange=this._onReadyStateChange;try{return this._ax.open(e,n,s,r,a)}catch(o){var i=t;return this._xdr=new XDomainRequest,this.readyState=0,this.status=0,this.statusText="",this._xdr.onprogress=function(){i.readyState=2,i.onreadystatechange&&i.onreadystatechange()},this._xdr.onload=function(){i.readyState=3,i.onreadystatechange&&i.onreadystatechange(),i.readyState=4,i.status=200,i.statusText="200 OK",i.responseText=i._xdr.responseText,i.onreadystatechange&&i.onreadystatechange(),i._xdr=null},this._xdr.open(e,n)}},t.send=function(e){return(this._xdr||this._ax).send(e)},t.setOption=function(e,t){return this._ax.setOption(e,t)},t.setProxy=function(e,t,n){return this._ax.setProxy(oproxySetting,t,n)},t.setProxyCredentials=function(e,t){return this._ax.setProxyCredentials(e,t)},t.setRequestHeader=function(e,t){return this._ax.setRequestHeader(e,t)},t.setTimeouts=function(e,t,n,s){return this._xdr&&(this._xdr.timeout=t),this._ax.setTimeouts(e,t,n,s)},t.waitForResponse=function(e){return this._ax.waitForResponse(e)},t})}};return t.init(),t}(this,document);